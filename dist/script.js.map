{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/main.js"],"names":["city","document","querySelector","sky","people","column","window","addEventListener","value","scrollY","style","top","selectSingle","selectSingle_title","selectSingle_labels","querySelectorAll","cards","dots","overlay","hideCards","forEach","card","display","e","target","dot","i","j","innerHTML","firstElementChild","getAttribute","setAttribute","length","evt","textContent","chooseCity","console","log","cardTitle","links","speed","link","event","preventDefault","widthTop","documentElement","scrollTop","hash","toBlock","getBoundingClientRect","start","requestAnimationFrame","step","time","progress","r","Math","max","min","scrollTo","location","VideoPlayer","constructor","triggers","btns","close","bindTriggers","btn","path","createPlayer","body","overflow","bindCloseBtn","player","stopVideo","url","YT","Player","height","width","videoId","init","tag","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore"],"mappings":"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","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","const city = document.querySelector('.header__city'),\r\n      sky = document.querySelector('.header__sky'),\r\n      people = document.querySelector('.header__people'),\r\n      column = document.querySelector('.header__column');\r\n\r\nwindow.addEventListener('scroll', function() {\r\n    let value = window.scrollY;\r\n\r\n    sky.style.top = -value * 0.8 + 'px';\r\n    city.style.top = -value * 0.4 + 'px';\r\n    people.style.top = -value * 0.2 + 'px';\r\n    column.style.top = -value * 0.1 + 'px';\r\n\r\n})\r\n\r\n\r\n\r\n//interactive\r\nconst selectSingle = document.querySelector('.interactive__select'),\r\n      selectSingle_title = selectSingle.querySelector('.interactive__select__title'),\r\n      selectSingle_labels = selectSingle.querySelectorAll('.interactive__select__label'),\r\n\r\n      cards = document.querySelectorAll('.interactive__map-card'),\r\n      dots = document.querySelectorAll('.interactive__map__dot'),\r\n      overlay = document.querySelector('.interactive__map');\r\n\r\n\r\n//Скрываю карточки\r\nfunction hideCards() {\r\n  cards.forEach(card => {\r\n    card.style.display = 'none';\r\n  })\r\n}\r\nhideCards();\r\n\r\noverlay.addEventListener('click', (e) => {\r\n  if (e.target === overlay) {\r\n    cards.forEach(card => {\r\n      card.style.display = 'none';\r\n    })\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\ndots.forEach((dot, i) => {\r\n  dot.addEventListener('click', () => {\r\n\r\n    hideCards();\r\n\r\n    cards.forEach((card, j) => {\r\n      if (i == j) {\r\n        card.style.display = 'block';\r\n\r\n        selectSingle_title.innerHTML = card.firstElementChild.innerHTML;\r\n      }\r\n\r\n    });\r\n\r\n    if ('active' === selectSingle.getAttribute('data-state')) {\r\n      selectSingle.setAttribute('data-state', '');\r\n    };\r\n\r\n  });\r\n\r\n});\r\n\r\n//Меняю активность селекта\r\nselectSingle_title.addEventListener('click', () => {\r\n  if ('active' === selectSingle.getAttribute('data-state')) {\r\n    selectSingle.setAttribute('data-state', '');\r\n\r\n  } else {\r\n    selectSingle.setAttribute('data-state', 'active');\r\n    hideCards();\r\n  }\r\n});\r\n\r\n//Показываю карточки в зависимости от выбранного города\r\nfor (let i = 0; i < selectSingle_labels.length; i++) {\r\n  selectSingle_labels[i].addEventListener('click', (evt) => {\r\n    selectSingle_title.textContent = evt.target.textContent;\r\n    selectSingle.setAttribute('data-state', '');\r\n\r\n    chooseCity = evt.target.textContent;\r\n    console.log(chooseCity);\r\n\r\n    cards.forEach((card, i) => {\r\n      let cardTitle = card.firstElementChild.innerHTML;\r\n\r\n      if (chooseCity == cardTitle) {\r\n        card.style.display = 'block';\r\n      }\r\n    })\r\n  });\r\n}\r\n\r\n//Плавный скролл\r\nlet links = document.querySelectorAll('[href^=\"#\"]'),\r\n    speed = 0.3;\r\n\r\nlinks.forEach(link => {\r\n  link.addEventListener('click', function(event) {\r\n      event.preventDefault();\r\n\r\n      let widthTop = document.documentElement.scrollTop,\r\n          hash = this.hash,\r\n          toBlock = document.querySelector(hash).getBoundingClientRect().top,\r\n          start = null;\r\n\r\n      requestAnimationFrame(step);\r\n\r\n      function step(time) {\r\n        if (start === null) {\r\n          start = time;\r\n        }\r\n\r\n        let progress = time - start,\r\n          r = (toBlock < 0 ? Math.max(widthTop - progress/speed, widthTop + toBlock) : Math.min(widthTop + progress/speed, widthTop + toBlock));\r\n          document.documentElement.scrollTo(0, r);\r\n\r\n        if (r != widthTop + toBlock) {\r\n          requestAnimationFrame(step);\r\n        } else {\r\n          location.hash = hash;\r\n        }\r\n      }\r\n  });\r\n});\r\n\r\n\r\nclass VideoPlayer {\r\n  constructor(triggers, overlay) {\r\n    this.btns = document.querySelectorAll(triggers);\r\n    this.overlay = document.querySelector(overlay);\r\n    this.close = this.overlay.querySelector('.close');\r\n  }\r\n\r\n  bindTriggers() {\r\n    this.btns.forEach(btn => {\r\n      btn.addEventListener('click', () => {\r\n        if (document.querySelector('iframe#frame')) {\r\n          this.overlay.style.display = 'flex';\r\n        } else {\r\n        const path = btn.getAttribute('data-url');\r\n        this.createPlayer(path);\r\n        document.body.style.overflow = 'hidden'; \r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  \r\n\r\n  bindCloseBtn() {\r\n      this.close.addEventListener('click', () => {\r\n      this.overlay.style.display = 'none';\r\n      this.player.stopVideo();\r\n      document.body.style.overflow = ''; \r\n    });\r\n  };\r\n\r\n  createPlayer(url) {\r\n    this.player = new YT.Player('frame', {\r\n      height: '100%',\r\n      width: '100%',\r\n      videoId: `${url}`\r\n    });\r\n\r\n    this.overlay.style.display = 'flex';\r\n  };\r\n\r\n  init() {\r\n    const tag = document.createElement('script');\r\n\r\n    tag.src = \"https://www.youtube.com/iframe_api\";\r\n    const firstScriptTag = document.getElementsByTagName('script')[0];\r\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n\r\n    this.bindTriggers();\r\n    this.bindCloseBtn();\r\n  }\r\n}\r\n\r\nconst player = new VideoPlayer('.congratulation__content .congratulation__content-play', '.overlay');\r\nplayer.init();\r\n"],"sourceRoot":""}